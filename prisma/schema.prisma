generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlserver"
  url      = env("DATABASE_URL")
}

model role {
  id    Int     @id(map: "PK_role") @default(autoincrement())
  name  String? @db.NVarChar(30)
  users users[]
}

model users {
  id             Int      @id(map: "PK_user") @default(autoincrement())
  username       String   @unique(map: "UX_user") @db.NVarChar(50)
  password       String   @db.NVarChar(200)
  role_id        Int
  active         Boolean  @default(true, map: "DF_users_active")
  role           role     @relation(fields: [role_id], references: [id], onUpdate: NoAction, map: "FK_user_role")
  profile           profile ?
}

model profile {
  user_id                                       Int              @id(map: "PK_profile")
  firstname                                     String?          @db.NVarChar(20)
  lastname                                      String?          @db.NVarChar(20)
  phone                                         String?          @db.NChar(15)
  active                                        Boolean          @default(true, map: "DF_profile_active")
   users                                         users            @relation(fields: [user_id], references: [id], onUpdate: NoAction, map: "FK_profile_user")

}
